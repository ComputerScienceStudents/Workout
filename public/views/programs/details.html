<section data-ng-controller="ProgramsController" data-ng-init="findOne()">
	<div class="row">
		<rating value="program.rating.userRate" max="10" readonly="false" state-on="'glyphicon-ok-sign'" state-off="'glyphicon-ok-circle'"></rating> 
		Average: {{program.rating.average}}
		Rated by: {{program.rating.usersCount}}
	</div>
	<div class="row">
		<h1>{{program.title}}</h1> 
		<p>{{program.description}}</p><br />
		<article data-ng-repeat="exercise in program.exercises" class="container-fluid exercise-preview">
			<div class="row" ng-show="exercise.exercise.title">
				<div class="col-md-3 col-sm-4">
					<img width="185" src="{{exercise.exercise.minature}}">
				</div>
				<div class="col-md-9 col-sm-8">
					<h4><a href="{{exercise.exercise.video}}">{{exercise.title}}</a></h4>
					<div>{{exercise.exercise.description}}</div>
					<div ng-show="exercise.repetitions">
						Number of repetitions: {{exercise.repetitions}}
					</div>
					<div ng-show="exercise.exercise.length">
						Length: {{exercise.exercise.length}} s
					</div>
				</div>
			</div>
			<div class="row" ng-show="exercise.pause">
				<div class="col-md-12 col-sm-12">
					Pause: {{exercise.pause}} s
				</div>
			</div>
		</article>
	</div>
	<div class="row text-center">
		<button class="btn btn-lg btn-success" ng-click="startWorkout()">
			Start workout
		</button>
	</div>
	<div class="row">
		<div class="col-md-6">
			<h3>Komentarze:</h3>
		</div>
	</div>

	<div class="row">
		<div class="col-md-offset-4 col-md-8">
			<section ng-repeat="comment in program.comments">
				<div class="panel panel-default">
					<div class="panel-heading">
						{{comment.user.name}}
					</div>
					<div class="panel-body">
						{{comment.comment}}
					</div>
				</div>
			</section>
		</div>
	</div>
	<div class="row">
		<div class="col-md-offset-3 col-md-9 form-group">
			<h3>Dodaj komentarz:</h3><br />
			<textarea data-ng-model="comment" id="comment" cols="30" rows="10" placeholder="Comment" class="form-control" required></textarea>
		</div>
	</div>
	<div class="row">
		<div class="col-md-offset-9 col-md-3" style="text-align: right">
			<button class="btn btn-info" type="submit" ng-click="addComment()">Dodaj</button>
		</div>
	</div>
</section>